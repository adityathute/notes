
const model = {
  request: false,
  saveToken:  function (num) {
    console.log(`saveToken for request ${num} start - model.request = ${model.request}`)
    setTimeout(() => {
      console.log(`saveToken for request ${num} end - model.request = ${model.request}`)
    }, 2000);
  }
}

// 1st request received 1 second after start
setTimeout(() => {
  model.request = 1
  model.saveToken(1);
}, 1000);

// 2nd request received 2 seconds after start
setTimeout(() => {
  model.request = 2
  model.saveToken(2);
}, 2000);

console.log('Starting - All requests queued');
